kind: Namespace
apiVersion: v1
metadata:
  name: data-export
  labels:
    name: data-export
---
apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: data-export
  namespace: data-export
spec:
  components:
    - name: publish-export-data
      type: edge-worker
      properties:
        image: ci4rail/publish-export-data
        name: publish-export-data
      traits:
        - type: edge-network-participant
          properties:
            networks:
              - data-export-network
    - type: application-network
      name: data-export-network
      properties:
        streams:
          - name: data-export-stream
            subjects:
              - EXPORT.>
            storage: file
            public: true
            global: true
            retention: limits
            maxMsgsPerSubject: -1
            maxMsgs: -1
            maxBytes: 6442450944
            maxAge: 10d
            maxMsgSize: -1
            discard: old
